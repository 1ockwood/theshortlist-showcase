---
import fs from 'node:fs';
import path from 'node:path';

const { filename } = Astro.props;

const iconPath = path.join(path.resolve(), 'public', 'icons', `${filename}.svg`);
const icon = await fs.promises.readFile(iconPath, 'utf8', (error, data) => {
  if (error) {
    console.error(error);
    return;
  }
  return data;
});
---

<Fragment set:html={icon} />

<style>
:global(.icon) {
  display: inline-block;
  fill: currentColor;
  width: auto;
  height: 1em;
  line-height: 1;
  position: relative;
  top: -1px;
  vertical-align: middle;
}
</style>
